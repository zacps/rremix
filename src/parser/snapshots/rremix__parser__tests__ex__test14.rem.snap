---
source: src/parser/mod.rs
assertion_line: 72
expression: "format_pair(&pair.unwrap(), 0, true)"
---
- program
  - eol_comment: ".The rainfall problem."
  - sigiled_comment: "======================"
  - statement > assignment_statement
    - variable: "rain-fall"
    - colon: ":"
    - expression > unary_expression > simple_expression > literal > list
      - list_item > expression > unary_expression > simple_expression > literal > number: "-1"
      - list_item > expression > unary_expression > simple_expression > literal > number: "-3"
      - list_item > expression > unary_expression > simple_expression > literal > number: "0"
      - list_item > expression > unary_expression > simple_expression > literal > number: "5"
      - list_item > expression > unary_expression > simple_expression > literal > number: "-2"
      - list_item > expression > unary_expression > simple_expression > literal > number: "1.0"
      - list_item > expression > unary_expression > simple_expression > literal > number: "0"
      - list_item > expression > unary_expression > simple_expression > literal > number: "-1"
      - list_item > expression > unary_expression > simple_expression > literal > number: "6"
      - list_item > expression > unary_expression > simple_expression > literal > number: "7"
      - list_item > expression > unary_expression > simple_expression > literal > number: "999"
      - list_item > expression > unary_expression > simple_expression > literal > number: "-2"
      - list_item > expression > unary_expression > simple_expression > literal > number: "0"
      - list_item > expression > unary_expression > simple_expression > literal > number: "10"
  - statement > expression > unary_expression > simple_expression > function_call
    - single_name_part: "show"
    - literal > string: "\"Original data:\""
  - statement > expression > unary_expression > simple_expression > function_call
    - single_name_part: "showline"
    - expression > unary_expression > simple_expression > variable: "rain-fall"
    - single_name_part: "as"
    - single_name_part: "list"
  - statement > assignment_statement
    - variable: "positive-rain-fall"
    - colon: ":"
    - expression > unary_expression > simple_expression > function_call
      - single_name_part: "filter"
      - expression > unary_expression > simple_expression > variable: "rain-fall"
      - single_name_part: "by"
      - expression > unary_expression > simple_expression > variable: "x"
      - single_name_part: "where"
      - newindent_block
        - continue_indent: ""
        - new_indent: "\t"
        - statement > expression > binary_expression
          - unary_expression > expression > unary_expression > simple_expression > variable: "x"
          - operator: "≥"
          - expression > unary_expression > simple_expression > literal > number: "0"
  - statement > assignment_statement
    - variable: "valid-rain-fall"
    - colon: ":"
    - expression > unary_expression > simple_expression > function_call
      - single_name_part: "keep"
      - expression > unary_expression > simple_expression > variable: "x"
      - single_name_part: "from"
      - expression > unary_expression > simple_expression > variable: "positive-rain-fall"
      - single_name_part: "until"
      - newindent_block
        - continue_indent: ""
        - new_indent: "\t"
        - statement > expression > binary_expression
          - unary_expression > simple_expression > variable: "x"
          - operator: "="
          - expression > unary_expression > simple_expression > literal > number: "999"
  - statement > expression > unary_expression > simple_expression > function_call
    - single_name_part: "show"
    - literal > string: "\"Clean data:\""
  - statement > expression > unary_expression > simple_expression > function_call
    - single_name_part: "showline"
    - expression > unary_expression > simple_expression > variable: "valid-rain-fall"
    - single_name_part: "as"
    - single_name_part: "list"
  - statement > assignment_statement
    - variable: "count"
    - colon: ":"
    - expression > unary_expression > simple_expression > function_call
      - single_name_part: "length"
      - single_name_part: "of"
      - expression > unary_expression > simple_expression > variable: "valid-rain-fall"
  - statement > expression > unary_expression > simple_expression > function_call
    - single_name_part: "if"
    - expression > binary_expression
      - unary_expression > simple_expression > variable: "count"
      - operator: "="
      - expression > unary_expression > simple_expression > literal > number: "0"
    - block
      - continue_indent: ""
      - new_indent: "\t"
      - statement > expression > unary_expression > simple_expression > function_call
        - single_name_part: "showline"
        - literal > string: "\"No valid data.\""
    - single_name_part: "otherwise"
    - block
      - continue_indent: ""
      - new_indent: "\t"
      - statement > expression > unary_expression > simple_expression > function_call
        - single_name_part: "showline"
        - literal > list
          - list_item > expression > unary_expression > simple_expression > literal > string: "\"The average rainfall is \""
          - list_item > expression > binary_expression
            - unary_expression > simple_expression > function_call
              - single_name_part: "sum"
              - expression > unary_expression > simple_expression > variable: "valid-rain-fall"
            - operator: "÷"
            - expression > unary_expression > simple_expression > variable: "count"
  - EOI: ""
